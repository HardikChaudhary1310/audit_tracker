<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shivalik Bank Policies</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            /* background: linear-gradient(to bottom right, #f0f8ff, #4682b4);          */
            /* background: linear-gradient(90deg, #674dcd, rgb(56, 131, 196), #52d7ee); */
            background: linear-gradient(to bottom right, #f0f8ff, #4682b4);              margin: 0;
            padding: 0;
            color: #333;
            background-image: var(--gradient);
            animation: gradientBackground 15s infinite;
        }


    @keyframes gradientBackground {
        0% {
            background: linear-gradient(to bottom, #789fc2, #f0f8ff);
            background-position: left;
        }
        25% {
            background: linear-gradient(to bottom, #789fc2, #f0f8ff);
            background-position: right
        }
        50% {
            background: linear-gradient(to bottom, #789fc2, #f0f8ff);
            background-position: left;
        }
        75% {
            background: linear-gradient(to bottom, #668eb1, #f0f8ff);
            background-position: right
        }
        100% {
            background: linear-gradient(to bottom, #789fc2, #f0f8ff);
            background-position: left;
        }
    }
        .header {
            /* background-color: #0040800b; */
            /* background: linear-gradient(to bottom right, #f0f8ff, #4682b4); */
            background: linear-gradient(90deg, #674dcd, rgb(56, 131, 196), #52d7ee);

            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header .title {
            font-size: 24px;
            font-weight:bold;
        }
        .header a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 10px;
        }
        .header a:hover {
            background-color: #4884c0;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            /* background-color: #ffffff; */
            /* background: linear-gradient(to bottom right, #f0f8ff, #4682b4); */
            background: linear-gradient(90deg, #674dcd, rgb(56, 131, 196), #52d7ee);

            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);


         
        }
        h1 {
            text-align: center;
            color: #0056b3;
            font-size: 26px;
            margin-bottom: 20px;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 10px 0;
            padding: 10px;
            position: relative;
        }
        .policy-item {
            cursor: pointer;
            color: whitesmoke;
        }
        .policy-item .sub-policy-list {
            display: none;
            padding-left: 20px;
        }
        .policy-item.open .sub-policy-list {
            display: block;
        }
        .policy-item::before {
            content: '\002B';
            margin-right: 10px;
            font-size: 15px;
            color: white;
        }
        .policy-item.open::before {
            content: '\2212';
        }
        .sub-policy {
            color: white;
            text-decoration: none;
            display: block;
            margin-right: 10px;
            display: inline-block;
            font-size:14px;
            
        }
        .action-buttons {
            float: right;
        }
        .action-buttons a {
            margin-left: 10px;
        }
        .sub-policy:hover {
            text-decoration: underline;
        }

        .upload-section {
    position: absolute; /* Position it freely */
    top: 78px; /* Adjust vertical positioning */
    right: 260px; /* Align to the right */
    display: flex;
    align-items: center;
    gap: 5px; /* Space between elements */
    background: #f8f9fa; /* Light background */
    padding: 7px;
    border-radius: 2px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.upload-section select,
.upload-section input[type="file"],
.upload-section button {
    padding: 2px;
    border-radius: 1px;
    border: 1px solid #ccc;
}

.upload-section button {
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
}

.upload-section button:hover {
    background-color: #0056b3;
}

    </style>
</head>
<body>
    <div class="header">
        <div class="title">SHIVALIK BANK</div>
        <div>
            <a href="/">LOGIN</a>
            <span style="margin: 0 2px;">|</span>
            <a href="javascript:history.back()">HOME</a>
            <span style="margin: 0 2px;">|</span>
            <a href="#">E-REGISTER</a>
        </div>
    </div>
    <div class="container">
        <h1 style="color: white; font-weight: bolder;color: white; font-weight: bolder;font-style: italic;background-image: var(--gradient);transition: background-position 1s;display: inline-block;color: whitesmoke;font-size:30px;align-items: center;text-align: center;justify-content: center;margin-left: 140px;"><b>Select Policy Which You Want To Read!!</b></h1>



        <!-- Upload Section
        <div class="upload-section">
            <select id="policyCategory">
                <option value="">Select Policy Category</option>
                <option value="HR">HR</option>
                <option value="Brand and Marketing">Brand and Marketing</option>
                <option value="Customer Service">Customer Service</option>
                <option value="Finance">Finance</option>
                <option value="Financial Inclusion Group">Financial Inclusion Group</option>
                <option value="IT">IT</option>
                <option value="Human Resource">Human Resource</option>
                <option value="Finance">Finance</option>
            </select>
            <input type="file" id="uploadPolicy" />
            <button onclick="uploadPolicy()">Upload</button>
        </div> -->
        
    



        <ul>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Audit</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/audit/har.pdf" class="sub-policy" download style="color: whitesmoke;" data-policy-id="12345">SSFB_ATM Opening on Holiday and After Banking Hours Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/audit/har.pdf" class="download-link" download style="color: whitesmoke;" data-policy-id="12345">Download</a>
                            <a href="/policies/audit/har.pdf" class="view-button" style="color: whitesmoke;" data-filename="har.pdf" data-policy-id="12345">View</a>
                        
                        </div>
                    </li>
                    <li>
                        <a href="/policies/audit/Hardik-Resume-New.pdf" class="sub-policy" download style="color: whitesmoke;" data-policy-id="54321">SSFB_Gunman Age Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/audit/Hardik-Resume-New.pdf" class="download-link" download style="color: whitesmoke;" data-policy-id="54321">Download</a>
                            <a href="/policies/audit/Hardik-Resume-New.pdf" class="view-button" style="color: whitesmoke;" data-filename="Hardik-Resume-New.pdf" data-policy-id="54321">View</a>
                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Brand and Marketing</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/audit/My Resume.pdf" class="sub-policy" download style="color: whitesmoke;" data-policy-id="10000">SSFB_Security Drill at Branches and HO Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/audit/My Resume.pdf" class="download-link" download style="color: whitesmoke;" data-policy-id="10000">Download</a>
                            <a href="/policies/audit/My Resume.pdf" class="view-button" style="color: whitesmoke;" data-filename="My Resume.pdf" data-policy-id="10000">View</a>
                        </div>
                    </li>
                    <li>
                        <a href="/policies/audit/My Resume.pdf" class="sub-policy" download style="color: whitesmoke;" data-policy-id="10000">SSFB_Visiting Card Issuance Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/audit/My Resume.pdf" class="download-link" download style="color: whitesmoke;" data-policy-id="10000">Download</a>
                            <a href="/policies/audit/My Resume.pdf" class="view-button" style="color: whitesmoke;" data-filename="My Resume.pdf" data-policy-id="10000">View</a>
                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Collections and Recovery</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/audit/har.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Collection Policy_Ver_1.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/audit/har.pdf" class="download-link" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Compliance</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/compliance/SSFB_Compliance_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Compliance Policy_Ver_1.1.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/compliance/SSFB_Compliance_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Corporate Secretariat</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/corporate-secretariat/SSFB_Secretariat_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Secretariat Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/corporate-secretariat/SSFB_Secretariat_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Credit</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/credit/SSFB_Credit_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Credit Policy_Ver_1.3.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/credit/SSFB_Credit_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Customer Service</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/customer-service/SSFB_Customer_Service_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Customer Service Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/customer-service/SSFB_Customer_Service_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Finance</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/finance/SSFB_Finance_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Finance Policy_Ver_1.4.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/finance/SSFB_Finance_Policy.pdf" download download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Financial Inclusion Group</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/financial-inclusion/SSFB_Inclusion_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Inclusion Policy_Ver_1.1.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/financial-inclusion/SSFB_Inclusion_Policy.pdf" download download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Human Resource</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/human-resource/SSFB_HR_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Human Resource Policy_Ver_1.2.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/human-resource/SSFB_HR_Policy.pdf" download download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Information Security</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/information-security/SSFB_InfoSec_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Information Security Policy_Ver_2.0.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/information-security/SSFB_InfoSec_Policy.pdf" download download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                      
                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Insurance</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/insurance/SSFB_Insurance_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Insurance Policy_Ver_1.5.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/insurance/SSFB_Insurance_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                        
                        </div>
                    </li>
                </ul>
            </li>
            <li class="policy-item">
                <button class="policy-toggle" aria-expanded="false">Operations</button>
                <ul class="sub-policy-list">
                    <li>
                        <a href="/policies/operations/SSFB_Appointment_of_BCs_and_BFs_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Appointment of BCs and BFs Policy_Ver_1.3.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Appointment_of_BCs_and_BFs_Policy.pdf"  download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Banking_Facility_for_Senior_Citizens_and_Differently_Abled_Persons_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Banking Facility For Senior Citizens and Differently Abled Persons Policy_Ver_1.1.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Banking_Facility_for_Senior_Citizens_and_Differently_Abled_Persons_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Cheque_Collection_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Cheque Collection Policy_Ver_1.2.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Cheque_Collection_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Clean_Note_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Clean Note Policy_Ver_1.2.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Clean_Note_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                           
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Comprehensive_Deposit_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Comprehensive Deposit Policy_Ver_1.3.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Comprehensive_Deposit_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Debit_Card_Issuance_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Debit Card Issuance Policy_Ver_1.2.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Debit_Card_Issuance_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                        
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/Annexure_Operating_Guidelines.pdf" class="sub-policy" download style="color: whitesmoke;">Annexure - Operating Guidelines for Bank Initiated Debit Card Blocking Hotlisting.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/Annexure_Operating_Guidelines.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Deposit_Interest_Rate_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Deposit Interest Rate Policy_Ver_1.4.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Deposit_Interest_Rate_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/SSFB_Record_Retention_and_Maintenance_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">SSFB_Record Retention and Maintenance Policy_Ver_1.1.pdf</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/SSFB_Record_Retention_and_Maintenance_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                       
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/Deceased_Claim_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">Deceased Claim Policy</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/Deceased_Claim_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                            
                        </div>
                    </li>
                    <li>
                        <a href="/policies/operations/Safe_Deposit_Locker_Policy.pdf" class="sub-policy" download style="color: whitesmoke;">Safe Deposit Locker Policy</a>
                        <div class="action-buttons">
                            <a href="/policies/operations/Safe_Deposit_Locker_Policy.pdf" download style="color: whitesmoke;">Download</a>
                            <a href="/policies/audit/har.pdf" class="delete-button" style="color: whitesmoke;" data-filename="har.pdf">View</a>
                          
                        </div>
                    </li>
                </ul>
            </li>
            
    </div>

    I<script>
        // Unified policy action handler with dynamic user info
// Unified policy action handler with dynamic user info
async function handlePolicyAction(action, element) {
    event.preventDefault();
    const policyId = element.dataset.policyId;
    const filename = element.dataset.filename || policyId;
    const url = element.href;
    
    try {
        // Track the action
        const response = await fetch(`/track-${action.toLowerCase()}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
                policyId, 
                filename
            }),
            credentials: 'include'
        });
        
        if (!response.ok) {
            throw new Error('Tracking failed');
        }
        
        // Proceed with the action
        if (action === 'DOWNLOAD') {
            window.location.href = url;
        } else {
            window.open(url, '_blank');
        }
    } catch (error) {
        console.error(`${action} tracking failed:`, error);
        // Fallback to direct access if tracking fails
        if (action === 'DOWNLOAD') {
            window.location.href = url;
        } else {
            window.open(url, '_blank');
        }
    }
}
        
        // Update the toggle function
        function togglePolicy(button) {
            const isExpanded = button.getAttribute('aria-expanded') === 'true';
            button.setAttribute('aria-expanded', !isExpanded);
            button.parentElement.classList.toggle('open');
        }
        
        // Initialize event listeners
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll('.policy-toggle').forEach(button => {
                button.addEventListener('click', () => togglePolicy(button));
            });
        
            // View buttons
            document.querySelectorAll('.view-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    handlePolicyAction('VIEW', e.currentTarget);
                });
            });
            
            // Download buttons
            document.querySelectorAll('.download-link').forEach(button => {
                button.addEventListener('click', (e) => {
                    handlePolicyAction('DOWNLOAD', e.currentTarget);
                });
            });
            
            // Delete buttons
            document.querySelectorAll('.delete-button').forEach(button => {
                button.addEventListener('click', async function(e) {
                    e.preventDefault();
                    e.stopPropagation(); // Prevent triggering the parent item's click handler
                    
                    const filename = this.dataset.filename;
                    if (confirm(`Delete ${filename}?`)) {
                        try {
                            const response = await fetch(`/delete-policy/${encodeURIComponent(filename)}`, {
                                method: 'DELETE',
                                credentials: 'include'
                            });
                            if (response.ok) {
                                this.closest('li').remove();
                            } else {
                                const errorData = await response.json();
                                alert(`Delete failed: ${errorData.message || 'Unknown error'}`);
                            }
                        } catch (error) {
                            console.error("Delete error:", error);
                            alert("Failed to delete policy. Please try again.");
                        }
                    }
                });
            });
        
            // Login handler (if needed)
            const handleLogin = (username, password) => {
                fetch('http://localhost:3001/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        password: password
                    })
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Login successful:', data);
                })
                .catch(error => {
                    console.error('Login error:', error);
                });
            };
        });
        </script>
    
</body>
</html>